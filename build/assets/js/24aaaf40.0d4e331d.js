"use strict";(globalThis.webpackChunkaaronwolf_dev=globalThis.webpackChunkaaronwolf_dev||[]).push([[9230],{3234:e=>{e.exports=JSON.parse('{"permalink":"/blog/the-url-object","editUrl":"https://github.com/wolf-math/aaronwolfdev/tree/main/blog/2024-10-10-url-object.md","source":"@site/blog/2024-10-10-url-object.md","title":"The URL Object","description":"This blog post was originally posted on dev.to","date":"2024-10-10T00:00:00.000Z","tags":[{"inline":false,"label":"javascript","permalink":"/blog/tags/javascript","description":"javascript articles"}],"readingTime":3.47,"hasTruncateMarker":true,"authors":[{"name":"Aaron wolf","title":"Lead writer and developer","url":"https://aaronwolf.dev","page":{"permalink":"/blog/authors/wolf"},"socials":{"linkedin":"https://www.linkedin.com/in/wolf-math/","github":"https://github.com/wolf-math"},"imageURL":"https://avatars.githubusercontent.com/u/29966332?v=4","key":"wolf"}],"frontMatter":{"slug":"the-url-object","title":"The URL Object","authors":"wolf","tags":["javascript"]},"unlisted":false,"prevItem":{"title":"My New Website","permalink":"/blog/new-site"},"nextItem":{"title":"Promises and fetch","permalink":"/blog/promises-fetch"}}')},8453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>i});var t=a(6540);const r={},s=t.createContext(r);function o(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(s.Provider,{value:n},e.children)}},9870:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>h});var t=a(3234),r=a(4848),s=a(8453);const o={slug:"the-url-object",title:"The URL Object",authors:"wolf",tags:["javascript"]},i=void 0,l={authorsImageUrls:[void 0]},h=[{value:"Overview",id:"overview",level:2},{value:"Basic usage",id:"basic-usage",level:2},{value:"Properties",id:"properties",level:2},{value:"Methods",id:"methods",level:2},{value:"Example with Open Weather Map API",id:"example-with-open-weather-map-api",level:2},{value:"Summary",id:"summary",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["This blog post was originally posted on ",(0,r.jsx)(n.a,{href:"https://dev.to/wolfmath/the-url-object-3485",children:"dev.to"})]})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The URL object in JavaScript provides a way to work with and manipulate URLs easily. It\u2019s particularly useful when you need to construct, parse, or modify URLs within your code."}),"\n",(0,r.jsx)(n.p,{children:"Many times template strings are used in order to create URLs in JavaScript. Often this is easy and clear enough, but the URL object is a more robust OOP method of dealing with URLs."}),"\n",(0,r.jsxs)(n.p,{children:["Even OpenWeatherMap.org uses template strings in its documentation: ",(0,r.jsx)(n.code,{children:"https://api.openweathermap.org/data/3.0/onecall?lat={lat}&lon={lon}&exclude={part}&appid={API key}"})]}),"\n",(0,r.jsx)(n.p,{children:"For a URL that is fairly static this is fine, however if you want to make changes to this URL you may want to consider using a URL object."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// Using template strings\nconst lat = 32.087;\nconst lon = 34.801;\nconst apiKey = 'your_api_key';\nconst url = `https://api.openweathermap.org/data/3.0/onecall?lat=${lat}&lon=${lon}&appid=${apiKey}`;\n\n// Using the URL object\nconst openWeatherUrl = new URL('https://api.openweathermap.org/data/3.0/onecall');\nopenWeatherUrl.searchParams.set('lat', lat);\nopenWeatherUrl.searchParams.set('lon', lon);\nopenWeatherUrl.searchParams.set('appid', apiKey);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"basic-usage",children:"Basic usage"}),"\n",(0,r.jsx)(n.p,{children:"You can create a new URL object by passing a URL string to its constructor."}),"\n",(0,r.jsx)(n.p,{children:"In this case (as opposed to above) the entire URL is passed in with various parts:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"const url = new URL('https://example.com:8080/path?query=123#section');\n"})}),"\n",(0,r.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(n.p,{children:"The URL object has several properties that you can use to access parts of the URL:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"href"}),": The full URL as a string."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"protocol"}),": The protocol (e.g., ",(0,r.jsx)(n.code,{children:"https:"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"hostname"}),": The domain name (e.g., ",(0,r.jsx)(n.code,{children:"example.com"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"port"}),": The port number (e.g., ",(0,r.jsx)(n.code,{children:"8080"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"pathname"}),": The path following the domain (e.g., ",(0,r.jsx)(n.code,{children:"/path"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"search"}),": The query string, including the ",(0,r.jsx)(n.code,{children:"?"})," (e.g., ",(0,r.jsx)(n.code,{children:"?query=123"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"hash"}),": The fragment identifier, including the ",(0,r.jsx)(n.code,{children:"#"})," (e.g., ",(0,r.jsx)(n.code,{children:"#section"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"host"}),": The hostname and port combined (e.g., ",(0,r.jsx)(n.code,{children:"example.com:8080"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"origin"}),": The origin of the URL, which is the protocol, hostname, and port."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"> const url = new URL('https://example.com:8080/path?query=123#section');\n> url.port\n'8080'\n> url.protocol\n'https:'\n> url.hostname\n'example.com'\n> url.pathname\n'/path'\n> url.search\n'?query=123'\n> url.hash\n'#section'\n> url.host\n'example.com:8080'\n"})}),"\n",(0,r.jsx)(n.p,{children:"These can also be used to change the different parts of the URL?:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"> url.port = 1234\n1234\n> url.pathname = \"differentpath\"\n'differentpath'\n> url.hostname = \"example.org\"\n'example.org'\n> url\nURL {\n  href: 'https://example.org:1234/differentpath?query=123#section',\n  origin: 'https://example.org:1234',\n  protocol: 'https:',\n  username: '',\n  password: '',\n  host: 'example.org:1234',\n  hostname: 'example.org',\n  port: '1234',\n  pathname: '/differentpath',\n  search: '?query=123',\n  searchParams: URLSearchParams { 'query' => '123' },\n  hash: '#section'\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.p,{children:"The URL object also has some methods to help modify and interact with the URL."}),"\n",(0,r.jsxs)(n.p,{children:["For instance a ",(0,r.jsx)(n.em,{children:"URL search parameter"})," is a key and value pair that informs the API server details to serve a user."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"url.searchParams"}),": Returns a ",(0,r.jsx)(n.code,{children:"URLSearchParams"})," object, which provides methods to work with query string parameters."]}),"\n",(0,r.jsx)(n.p,{children:"You can:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Get a query parameter: ",(0,r.jsx)(n.code,{children:"url.searchParams.get('query')"})]}),"\n",(0,r.jsxs)(n.li,{children:["Set a query parameter: ",(0,r.jsx)(n.code,{children:"url.searchParams.set('query', '456')"})]}),"\n",(0,r.jsxs)(n.li,{children:["Delete a query parameter: ",(0,r.jsx)(n.code,{children:"url.searchParams.delete('query')"})]}),"\n",(0,r.jsxs)(n.li,{children:["Iterate over query parameters:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"url.searchParams.forEach((value, key) => {\n  console.log(key, value);\n});\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"toString()"})," method can be used to return the full URL as a string, reflecting any changes made to the properties or query parameters."]}),"\n",(0,r.jsx)(n.h2,{id:"example-with-open-weather-map-api",children:"Example with Open Weather Map API"}),"\n",(0,r.jsxs)(n.p,{children:["The OpenWeatherMap API documentation can be found ",(0,r.jsx)(n.a,{href:"https://openweathermap.org/api/one-call-3",children:"here"}),", although they use a template string let\u2019s use this example with a URL object to build and modify an API request."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// get values to interpolate to URL\nconst apiKey = process.env.openWeatherApiKey || 0\nconst [lat, lon] = [32.08721095615897, 34.801588162316506]\n\nconst openWeatherUrl = new URL(\"https://api.openweathermap.org\")\n\nopenWeatherUrl.pathname = \"data/3.0/onecall\"\nopenWeatherUrl.searchParams.set('lat',lat)\nopenWeatherUrl.searchParams.set('lon',lon)\n\n// from the docs\nopenWeatherUrl.searchParams.set('exclude', 'hourly')\n\nopenWeatherUrl.searchParams.set('appid', apiKey)\n\nconsole.log(openWeatherUrl)\n"})}),"\n",(0,r.jsx)(n.p,{children:"output:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"URL {\n  href: 'https://api.openweathermap.org/data/3.0/onecall?lat=32.08721095615897&lon=34.801588162316506&exclude=hourly&appid=0',\n  origin: 'https://api.openweathermap.org',\n  protocol: 'https:',\n  username: '',\n  password: '',\n  host: 'api.openweathermap.org',\n  hostname: 'api.openweathermap.org',\n  port: '',\n  pathname: '/data/3.0/onecall',\n  search: '?lat=32.08721095615897&lon=34.801588162316506&exclude=hourly&appid=0',\n  searchParams: URLSearchParams {\n    'lat' => '32.08721095615897',\n    'lon' => '34.801588162316506',\n    'exclude' => 'hourly',\n    'appid' => '0' },\n  hash: ''\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"URL"})," object in JavaScript provides a structured way to work with URLs, allowing for easy manipulation and construction of complex URLs. While template strings are simple and effective for static URLs, ",(0,r.jsx)(n.code,{children:"URL"})," objects are ideal for cases where URLs are dynamic or require frequent modifications."]})]})}function p(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);