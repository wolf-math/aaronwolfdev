"use strict";(globalThis.webpackChunkaaronwolf_dev=globalThis.webpackChunkaaronwolf_dev||[]).push([[7007],{2309:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"coding/python/user_guide/functions/higher_order_functions","title":"Higher-order functions","description":"What are higher-order functions?","source":"@site/docs/coding/python/user_guide/functions/higher_order_functions.md","sourceDirName":"coding/python/user_guide/functions","slug":"/coding/python/user_guide/functions/higher_order_functions","permalink":"/docs/coding/python/user_guide/functions/higher_order_functions","draft":false,"unlisted":false,"editUrl":"https://github.com/wolf-math/aaronwolfdev/tree/main/docs/coding/python/user_guide/functions/higher_order_functions.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Higher-order functions","sidebar_position":4},"sidebar":"tutorialSidebar","previous":{"title":"Decorators","permalink":"/docs/coding/python/user_guide/functions/decorators"},"next":{"title":"Object-Oriented Programming","permalink":"/docs/category/object-oriented-programming"}}');var t=r(4848),s=r(8453);const o={title:"Higher-order functions",sidebar_position:4},a=void 0,c={},l=[{value:"What are higher-order functions?",id:"what-are-higher-order-functions",level:2},{value:"Why this matters",id:"why-this-matters",level:2},{value:"Functions as arguments",id:"functions-as-arguments",level:2},{value:"Example: applying a function to a value",id:"example-applying-a-function-to-a-value",level:3},{value:"Built-in higher-order functions",id:"built-in-higher-order-functions",level:2},{value:"<code>map</code>",id:"map",level:3},{value:"<code>filter</code>",id:"filter",level:3},{value:"<code>sorted</code> with a key function",id:"sorted-with-a-key-function",level:3},{value:"<code>functools.reduce</code>",id:"functoolsreduce",level:3},{value:"Functions that return functions",id:"functions-that-return-functions",level:2},{value:"Function factories",id:"function-factories",level:3},{value:"Closures and state",id:"closures-and-state",level:3},{value:"Decorators: a common higher-order pattern",id:"decorators-a-common-higher-order-pattern",level:2},{value:"Simple decorator example",id:"simple-decorator-example",level:3},{value:"Combining higher-order functions with lambdas",id:"combining-higher-order-functions-with-lambdas",level:2},{value:"When to use higher-order functions",id:"when-to-use-higher-order-functions",level:2}];function d(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"what-are-higher-order-functions",children:"What are higher-order functions?"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.strong,{children:"higher-order function"})," is a function that does ",(0,t.jsx)(n.strong,{children:"at least one"})," of the following:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Takes one or more functions as arguments"}),", or"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Returns a function as its result"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["In Python, functions are ",(0,t.jsx)(n.em,{children:"first-class citizens"}),", which means you can:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Store them in variables"}),"\n",(0,t.jsx)(n.li,{children:"Pass them to other functions"}),"\n",(0,t.jsx)(n.li,{children:"Return them from functions"}),"\n",(0,t.jsx)(n.li,{children:"Put them in lists, dicts, and other data structures"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def shout(name):\n    return f"HELLO, {name.upper()}!"\n\n# function as a value\nprint(shout("Alice"))   # Use it directly\nfunc = shout            # Store in variable\nprint(func("Bob"))      # Call through variable\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Many built-in tools in Python\u2014like ",(0,t.jsx)(n.code,{children:"map"}),", ",(0,t.jsx)(n.code,{children:"filter"}),", ",(0,t.jsx)(n.code,{children:"sorted"}),", and ",(0,t.jsx)(n.code,{children:"functools.reduce"}),"\u2014are higher-order functions because they accept other functions as arguments."]}),"\n",(0,t.jsx)(n.h2,{id:"why-this-matters",children:"Why this matters"}),"\n",(0,t.jsx)(n.p,{children:"Higher-order functions let you:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reduce duplication"}),' by abstracting common patterns (for example, "loop over a list and transform each item")']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Write more expressive code"})," by naming the ",(0,t.jsx)(n.em,{children:"behavior"})," instead of writing manual loops everywhere"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Compose behavior"})," by building functions out of smaller, reusable functions"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"They're especially useful when working with:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Collections (lists, sets, dicts)"}),"\n",(0,t.jsx)(n.li,{children:"Callbacks and event handlers"}),"\n",(0,t.jsx)(n.li,{children:"Decorators and function wrappers"}),"\n",(0,t.jsx)(n.li,{children:"Functional-style programming"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Understanding higher-order functions will make it easier to read modern Python code and work with many popular libraries."}),"\n",(0,t.jsx)(n.h2,{id:"functions-as-arguments",children:"Functions as arguments"}),"\n",(0,t.jsx)(n.p,{children:"Any function that accepts another function as a parameter is a higher-order function."}),"\n",(0,t.jsx)(n.h3,{id:"example-applying-a-function-to-a-value",children:"Example: applying a function to a value"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def apply_twice(func, value):\n    """Call func(value) twice, feeding the result back in."""\n    return func(func(value))\n\ndef add_one(x):\n    return x + 1\n\nprint(apply_twice(add_one, 3))  # 5  (3 -> 4 -> 5)\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Here, ",(0,t.jsx)(n.code,{children:"apply_twice"})," is a higher-order function because it ",(0,t.jsx)(n.strong,{children:"takes a function"})," (",(0,t.jsx)(n.code,{children:"func"}),") as an argument."]}),"\n",(0,t.jsx)(n.h2,{id:"built-in-higher-order-functions",children:"Built-in higher-order functions"}),"\n",(0,t.jsx)(n.p,{children:"Python includes several higher-order functions in the standard library."}),"\n",(0,t.jsx)(n.h3,{id:"map",children:(0,t.jsx)(n.code,{children:"map"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"map(function, iterable)"})," applies a function to each element of an iterable."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"numbers = [1, 2, 3, 4]\n\ndef square(x):\n    return x ** 2\n\nsquares = list(map(square, numbers))\nprint(squares)  # [1, 4, 9, 16]\n"})}),"\n",(0,t.jsx)(n.p,{children:"You can also use a lambda:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"squares = list(map(lambda x: x ** 2, numbers))\n"})}),"\n",(0,t.jsx)(n.h3,{id:"filter",children:(0,t.jsx)(n.code,{children:"filter"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"filter(function, iterable)"})," keeps only the items for which the function returns ",(0,t.jsx)(n.code,{children:"True"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"numbers = [1, 2, 3, 4, 5, 6]\n\ndef is_even(x):\n    return x % 2 == 0\n\nevens = list(filter(is_even, numbers))\nprint(evens)  # [2, 4, 6]\n"})}),"\n",(0,t.jsxs)(n.h3,{id:"sorted-with-a-key-function",children:[(0,t.jsx)(n.code,{children:"sorted"})," with a key function"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"sorted(iterable, key=function)"})," uses the key function to determine the sort order."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"words = [\"apple\", \"banana\", \"kiwi\", \"cherry\"]\n\n# Sort by length\nsorted_by_length = sorted(words, key=len)\nprint(sorted_by_length)  # ['kiwi', 'apple', 'banana', 'cherry']\n\n# Sort by last character\nsorted_by_last = sorted(words, key=lambda w: w[-1])\nprint(sorted_by_last)    # ['banana', 'apple', 'kiwi', 'cherry']\n"})}),"\n",(0,t.jsx)(n.h3,{id:"functoolsreduce",children:(0,t.jsx)(n.code,{children:"functools.reduce"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"reduce(function, iterable)"})," applies a function cumulatively to the items of an iterable."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"from functools import reduce\n\nnumbers = [1, 2, 3, 4]\n\ndef multiply(x, y):\n    return x * y\n\nproduct = reduce(multiply, numbers)\nprint(product)  # 24 (1 * 2 * 3 * 4)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"functions-that-return-functions",children:"Functions that return functions"}),"\n",(0,t.jsxs)(n.p,{children:["A function that ",(0,t.jsx)(n.strong,{children:"returns another function"})," is also a higher-order function."]}),"\n",(0,t.jsx)(n.h3,{id:"function-factories",children:"Function factories"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def make_multiplier(factor):\n    """Return a function that multiplies its input by factor."""\n    def multiply(x):\n        return x * factor\n    return multiply\n\nby_2 = make_multiplier(2)\nby_3 = make_multiplier(3)\n\nprint(by_2(10))  # 20\nprint(by_3(10))  # 30\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Here, ",(0,t.jsx)(n.code,{children:"make_multiplier"})," is a higher-order function because it ",(0,t.jsx)(n.strong,{children:"returns"})," the ",(0,t.jsx)(n.code,{children:"multiply"})," function."]}),"\n",(0,t.jsx)(n.h3,{id:"closures-and-state",children:"Closures and state"}),"\n",(0,t.jsxs)(n.p,{children:["The returned function remembers values from the outer scope\u2014this is called a ",(0,t.jsx)(n.strong,{children:"closure"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def make_counter():\n    count = 0\n\n    def increment():\n        nonlocal count\n        count += 1\n        return count\n\n    return increment\n\ncounter = make_counter()\nprint(counter())  # 1\nprint(counter())  # 2\nprint(counter())  # 3\n"})}),"\n",(0,t.jsx)(n.h2,{id:"decorators-a-common-higher-order-pattern",children:"Decorators: a common higher-order pattern"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.strong,{children:"decorator"})," is a higher-order function that takes a function, wraps it with extra behavior, and returns a new function."]}),"\n",(0,t.jsx)(n.h3,{id:"simple-decorator-example",children:"Simple decorator example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def debug(func):\n    """Print the function name and arguments each time it\'s called."""\n\n    def wrapper(*args, **kwargs):\n        print(f"Calling {func.__name__} with args={args}, kwargs={kwargs}")\n        result = func(*args, **kwargs)\n        print(f"{func.__name__} returned {result}")\n        return result\n\n    return wrapper\n\n@debug\ndef add(a, b):\n    return a + b\n\nadd(2, 3)\n# Calling add with args=(2, 3), kwargs={}\n# add returned 5\n'})}),"\n",(0,t.jsx)(n.p,{children:"Here:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"debug"})," is a higher-order function (takes a function and returns a new function)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"wrapper"})," is the function that actually runs around ",(0,t.jsx)(n.code,{children:"add"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"@debug"})," is shorthand for ",(0,t.jsx)(n.code,{children:"add = debug(add)"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Decorators are used heavily in real-world Python code (web frameworks, testing libraries, CLI tools, and more)."}),"\n",(0,t.jsx)(n.h2,{id:"combining-higher-order-functions-with-lambdas",children:"Combining higher-order functions with lambdas"}),"\n",(0,t.jsx)(n.p,{children:"Because lambda functions are small and anonymous, they pair nicely with higher-order functions."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"numbers = [1, 2, 3, 4, 5]\n\nfrom functools import reduce\n\nevens = filter(lambda x: x % 2 == 0, numbers)\ndoubled = map(lambda x: x * 2, evens)\ntotal = reduce(lambda x, y: x + y, doubled)\n\nprint(total)  # Sum of doubled even numbers: (2*2 + 4*2) = 12\n"})}),"\n",(0,t.jsx)(n.p,{children:"In practice, you might prefer list comprehensions for readability, but it's important to understand how these pieces fit together."}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use-higher-order-functions",children:"When to use higher-order functions"}),"\n",(0,t.jsx)(n.p,{children:"Higher-order functions are a good fit when:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You find yourself writing the ",(0,t.jsx)(n.strong,{children:"same loop pattern"})," with only the inner operation changing."]}),"\n",(0,t.jsxs)(n.li,{children:["You want to ",(0,t.jsx)(n.strong,{children:"parameterize behavior"}),' (for example, "do X, but let the caller decide exactly how").']}),"\n",(0,t.jsxs)(n.li,{children:["You need to ",(0,t.jsx)(n.strong,{children:"wrap or extend behavior"})," (decorators, logging, timing, access control)."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["They might be overkill when the logic is simple and a plain ",(0,t.jsx)(n.code,{children:"for"})," loop is clearer to a beginner. As you write more Python, you'll develop a feel for when a higher-order function makes the code more readable versus when it hides too much."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var i=r(6540);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);