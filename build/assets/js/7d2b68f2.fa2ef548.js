"use strict";(globalThis.webpackChunkaaronwolf_dev=globalThis.webpackChunkaaronwolf_dev||[]).push([[1812],{7793:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>o});const t=JSON.parse('{"id":"coding/python/user_guide/oop/class_attributes","title":"Class attributes","description":"What are class attributes?","source":"@site/docs/coding/python/user_guide/oop/class_attributes.md","sourceDirName":"coding/python/user_guide/oop","slug":"/coding/python/user_guide/oop/class_attributes","permalink":"/docs/coding/python/user_guide/oop/class_attributes","draft":false,"unlisted":false,"editUrl":"https://github.com/wolf-math/aaronwolfdev/tree/main/docs/coding/python/user_guide/oop/class_attributes.md","tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Class attributes","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Dunder methods","permalink":"/docs/coding/python/user_guide/oop/dunder_methods"},"next":{"title":"Python standard library","permalink":"/docs/category/python-standard-library"}}');var a=n(4848),i=n(8453);const r={title:"Class attributes",sidebar_position:8},l=void 0,c={},o=[{value:"What are class attributes?",id:"what-are-class-attributes",level:2},{value:"Why this matters",id:"why-this-matters",level:2},{value:"Class attributes vs instance attributes",id:"class-attributes-vs-instance-attributes",level:2},{value:"Accessing class attributes",id:"accessing-class-attributes",level:2},{value:"Changing class attributes",id:"changing-class-attributes",level:2},{value:"Changing via the class",id:"changing-via-the-class",level:3},{value:"Shadowing with instance attributes",id:"shadowing-with-instance-attributes",level:3},{value:"When this matters",id:"when-this-matters",level:3},{value:"Common use cases",id:"common-use-cases",level:2},{value:"Constants and defaults",id:"constants-and-defaults",level:3},{value:"Class-level counters",id:"class-level-counters",level:3},{value:"Shared configuration",id:"shared-configuration",level:3},{value:"Mutable class attributes (a cautionary tale)",id:"mutable-class-attributes-a-cautionary-tale",level:2},{value:"Best practices",id:"best-practices",level:2}];function d(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.h2,{id:"what-are-class-attributes",children:"What are class attributes?"}),"\n",(0,a.jsxs)(s.p,{children:["A ",(0,a.jsx)(s.strong,{children:"class attribute"})," is a variable that belongs to the ",(0,a.jsx)(s.strong,{children:"class itself"}),", not to any particular instance. All instances of the class share the same class attribute value (unless an instance shadows it with its own attribute of the same name)."]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"class Dog:\n    species = \"Canis familiaris\"   # class attribute (shared by all dogs)\n\n    def __init__(self, name):\n        self.name = name           # instance attribute (unique per dog)\n\nfido = Dog(\"Fido\")\nrex = Dog(\"Rex\")\n\nprint(fido.species)  # 'Canis familiaris'\nprint(rex.species)   # 'Canis familiaris'\nprint(Dog.species)   # 'Canis familiaris' (accessed via class)\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Here, ",(0,a.jsx)(s.code,{children:"species"})," is defined at the class level, so every ",(0,a.jsx)(s.code,{children:"Dog"})," instance shares it. Each dog has its own ",(0,a.jsx)(s.code,{children:"name"}),", but they all share the same ",(0,a.jsx)(s.code,{children:"species"}),"."]}),"\n",(0,a.jsx)(s.h2,{id:"why-this-matters",children:"Why this matters"}),"\n",(0,a.jsx)(s.p,{children:"Class attributes are useful when you need:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Shared constants"})," \u2014 values that are the same for all instances of a class"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Default values"})," \u2014 fallback values that instances can override"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Class-level counters or state"})," \u2014 data that tracks something across all instances"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Configuration"})," \u2014 settings that apply to the entire class"]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"They help you avoid repetition and provide sensible defaults that instances can customize when needed."}),"\n",(0,a.jsx)(s.h2,{id:"class-attributes-vs-instance-attributes",children:"Class attributes vs instance attributes"}),"\n",(0,a.jsx)(s.p,{children:"The key difference:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Class attributes"})," \u2014 defined directly on the class; shared by all instances"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Instance attributes"})," \u2014 defined on ",(0,a.jsx)(s.code,{children:"self"})," in methods (usually ",(0,a.jsx)(s.code,{children:"__init__"}),"); unique to each instance"]}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"class Counter:\n    total_count = 0   # class attribute (shared)\n\n    def __init__(self):\n        self.count = 0   # instance attribute (unique per instance)\n\nc1 = Counter()\nc2 = Counter()\n\nc1.count = 5\nc2.count = 10\n\nprint(c1.count)        # 5\nprint(c2.count)        # 10\nprint(c1.total_count)  # 0 (same for all)\nprint(c2.total_count)  # 0 (same for all)\n"})}),"\n",(0,a.jsx)(s.h2,{id:"accessing-class-attributes",children:"Accessing class attributes"}),"\n",(0,a.jsx)(s.p,{children:"You can access class attributes through the class or any instance:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"class Circle:\n    pi = 3.14159   # class attribute\n\n    def __init__(self, radius):\n        self.radius = radius\n\n    def area(self):\n        return Circle.pi * self.radius ** 2   # accessing via class name\n        # or: return self.pi * self.radius ** 2   # works via instance too\n\nc = Circle(5)\nprint(c.pi)        # 3.14159 (accessed via instance)\nprint(Circle.pi)   # 3.14159 (accessed via class)\n"})}),"\n",(0,a.jsx)(s.p,{children:"When accessed through an instance, Python first looks for an instance attribute with that name. If it doesn't find one, it looks for a class attribute. This is how attribute lookup works in Python."}),"\n",(0,a.jsx)(s.h2,{id:"changing-class-attributes",children:"Changing class attributes"}),"\n",(0,a.jsx)(s.h3,{id:"changing-via-the-class",children:"Changing via the class"}),"\n",(0,a.jsx)(s.p,{children:"When you change a class attribute via the class, it affects all instances that haven't overridden it:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"class Dog:\n    species = \"Canis familiaris\"\n\nfido = Dog()\nrex = Dog()\n\nDog.species = \"Canis lupus familiaris\"   # change via class\n\nprint(fido.species)  # 'Canis lupus familiaris'\nprint(rex.species)   # 'Canis lupus familiaris'\n"})}),"\n",(0,a.jsx)(s.h3,{id:"shadowing-with-instance-attributes",children:"Shadowing with instance attributes"}),"\n",(0,a.jsxs)(s.p,{children:["If you set an attribute with the same name on an instance, you ",(0,a.jsx)(s.strong,{children:"shadow"})," the class attribute for that instance only:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"class Dog:\n    species = \"Canis familiaris\"\n\nfido = Dog()\nrex = Dog()\n\nfido.species = \"Custom species\"   # creates instance attribute\n\nprint(fido.species)  # 'Custom species' (instance attribute)\nprint(rex.species)   # 'Canis familiaris' (class attribute)\nprint(Dog.species)   # 'Canis familiaris' (unchanged)\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Now ",(0,a.jsx)(s.code,{children:"fido.species"})," refers to an instance attribute, while ",(0,a.jsx)(s.code,{children:"rex.species"})," still refers to the class attribute. The class attribute itself is unchanged."]}),"\n",(0,a.jsx)(s.h3,{id:"when-this-matters",children:"When this matters"}),"\n",(0,a.jsx)(s.p,{children:"Shadowing is usually unintentional. Be careful when you think you're modifying a class attribute through an instance:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"class Counter:\n    count = 0   # class attribute\n\nc1 = Counter()\nc2 = Counter()\n\nc1.count += 1   # This creates an instance attribute!\n\nprint(c1.count)  # 1 (instance attribute)\nprint(c2.count)  # 0 (still the class attribute)\nprint(Counter.count)  # 0 (unchanged)\n"})}),"\n",(0,a.jsxs)(s.p,{children:["The ",(0,a.jsx)(s.code,{children:"+="})," operator creates a new instance attribute because ",(0,a.jsx)(s.code,{children:"c1.count += 1"})," is equivalent to ",(0,a.jsx)(s.code,{children:"c1.count = c1.count + 1"}),", which assigns to the instance."]}),"\n",(0,a.jsx)(s.p,{children:"To modify a class attribute, access it through the class:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"Counter.count += 1   # modifies the class attribute\nprint(Counter.count)  # 1\n"})}),"\n",(0,a.jsx)(s.h2,{id:"common-use-cases",children:"Common use cases"}),"\n",(0,a.jsx)(s.h3,{id:"constants-and-defaults",children:"Constants and defaults"}),"\n",(0,a.jsx)(s.p,{children:"Class attributes are perfect for values that should be the same for all instances:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'class User:\n    MAX_LOGIN_ATTEMPTS = 3   # class constant\n    DEFAULT_ROLE = "user"    # default value\n\n    def __init__(self, username, role=None):\n        self.username = username\n        self.role = role or User.DEFAULT_ROLE   # use class default\n'})}),"\n",(0,a.jsx)(s.h3,{id:"class-level-counters",children:"Class-level counters"}),"\n",(0,a.jsx)(s.p,{children:"You can track data across all instances:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'class Person:\n    population = 0   # class attribute\n\n    def __init__(self, name):\n        self.name = name\n        Person.population += 1   # increment class attribute\n\n    def __del__(self):\n        Person.population -= 1   # decrement when instance is deleted\n\np1 = Person("Alice")\np2 = Person("Bob")\n\nprint(Person.population)  # 2\n'})}),"\n",(0,a.jsx)(s.h3,{id:"shared-configuration",children:"Shared configuration"}),"\n",(0,a.jsx)(s.p,{children:"Store configuration that applies to the whole class:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'class Logger:\n    log_level = "INFO"   # default log level\n    log_format = "{timestamp} - {level} - {message}"\n\n    def log(self, message):\n        if Logger.log_level == "DEBUG":\n            print(Logger.log_format.format(\n                timestamp=self._get_timestamp(),\n                level=Logger.log_level,\n                message=message\n            ))\n\nLogger.log_level = "DEBUG"   # change for all loggers\n'})}),"\n",(0,a.jsx)(s.h2,{id:"mutable-class-attributes-a-cautionary-tale",children:"Mutable class attributes (a cautionary tale)"}),"\n",(0,a.jsxs)(s.p,{children:["When a class attribute is a ",(0,a.jsx)(s.strong,{children:"mutable object"})," (like a list or dict), all instances share the same object. This can lead to surprising behavior:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:"class Dog:\n    tricks = []   # class attribute (shared mutable object)\n\n    def __init__(self, name):\n        self.name = name\n\n    def add_trick(self, trick):\n        self.tricks.append(trick)   # modifies shared list!\n\nfido = Dog(\"Fido\")\nrex = Dog(\"Rex\")\n\nfido.add_trick(\"roll over\")\nrex.add_trick(\"sit\")\n\nprint(fido.tricks)  # ['roll over', 'sit']  (shared!)\nprint(rex.tricks)   # ['roll over', 'sit']  (shared!)\n"})}),"\n",(0,a.jsxs)(s.p,{children:["Both dogs share the same ",(0,a.jsx)(s.code,{children:"tricks"})," list, so tricks added to one appear in the other."]}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Solution"}),": Use instance attributes for mutable data:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'class Dog:\n    def __init__(self, name):\n        self.name = name\n        self.tricks = []   # instance attribute (unique per dog)\n\n    def add_trick(self, trick):\n        self.tricks.append(trick)\n\nfido = Dog("Fido")\nrex = Dog("Rex")\n\nfido.add_trick("roll over")\nrex.add_trick("sit")\n\nprint(fido.tricks)  # [\'roll over\']\nprint(rex.tricks)   # [\'sit\']\n'})}),"\n",(0,a.jsx)(s.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Use class attributes for constants and defaults"})," \u2014 values that should be the same across all instances"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Use instance attributes for data that varies"})," \u2014 each instance should have its own copy"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Avoid mutable class attributes"})," \u2014 if you need mutable data, make it an instance attribute"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Access class attributes via the class name"})," \u2014 use ",(0,a.jsx)(s.code,{children:"Class.attr"})," when you want to be explicit, especially when modifying them"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsxs)(s.strong,{children:["Be careful with ",(0,a.jsx)(s.code,{children:"+="})," and similar operations"]})," \u2014 they create instance attributes, not modify class attributes"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Document class attributes"})," \u2014 use docstrings or comments to explain what they're for"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"Class attributes are a simple but powerful feature. Use them for shared values and constants, but remember that mutable class attributes are shared by all instances\u2014a common source of bugs if you're not careful."})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>l});var t=n(6540);const a={},i=t.createContext(a);function r(e){const s=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(i.Provider,{value:s},e.children)}}}]);