"use strict";(globalThis.webpackChunkaaronwolf_dev=globalThis.webpackChunkaaronwolf_dev||[]).push([[3590],{3792:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"coding/python/user_guide/standard_library/exceptions","title":"Exception handling with try/except","description":"What is exception handling?","source":"@site/docs/coding/python/user_guide/standard_library/exceptions.md","sourceDirName":"coding/python/user_guide/standard_library","slug":"/coding/python/user_guide/standard_library/exceptions","permalink":"/docs/coding/python/user_guide/standard_library/exceptions","draft":false,"unlisted":false,"editUrl":"https://github.com/wolf-math/aaronwolfdev/tree/main/docs/coding/python/user_guide/standard_library/exceptions.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"Exception handling with try/except","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Python standard library","permalink":"/docs/category/python-standard-library"},"next":{"title":"File handling basics","permalink":"/docs/coding/python/user_guide/standard_library/file_handling"}}');var t=r(4848),s=r(8453);const l={title:"Exception handling with try/except",sidebar_position:1},c=void 0,a={},o=[{value:"What is exception handling?",id:"what-is-exception-handling",level:2},{value:"Why this matters",id:"why-this-matters",level:2},{value:"Basic try/except syntax",id:"basic-tryexcept-syntax",level:2},{value:"Catching specific exceptions",id:"catching-specific-exceptions",level:2},{value:"Common built-in exceptions",id:"common-built-in-exceptions",level:3},{value:"Example: handling multiple exceptions",id:"example-handling-multiple-exceptions",level:3},{value:"Getting exception information",id:"getting-exception-information",level:2},{value:"The else clause",id:"the-else-clause",level:2},{value:"The finally clause",id:"the-finally-clause",level:2},{value:"Complete try/except/else/finally structure",id:"complete-tryexceptelsefinally-structure",level:2},{value:"Practical examples",id:"practical-examples",level:2},{value:"Reading a file safely",id:"reading-a-file-safely",level:3},{value:"Converting user input",id:"converting-user-input",level:3},{value:"Accessing dictionary keys",id:"accessing-dictionary-keys",level:3},{value:"Raising exceptions",id:"raising-exceptions",level:2},{value:"Re-raising exceptions",id:"re-raising-exceptions",level:3},{value:"Exception hierarchy",id:"exception-hierarchy",level:2},{value:"Best practices",id:"best-practices",level:2},{value:"1. Be specific",id:"1-be-specific",level:3},{value:"2. Don&#39;t suppress errors silently",id:"2-dont-suppress-errors-silently",level:3},{value:"3. Use finally for cleanup",id:"3-use-finally-for-cleanup",level:3},{value:"4. Let exceptions propagate when appropriate",id:"4-let-exceptions-propagate-when-appropriate",level:3},{value:"Common patterns",id:"common-patterns",level:2},{value:"Retry logic",id:"retry-logic",level:3},{value:"Default values",id:"default-values",level:3},{value:"Validation",id:"validation",level:3},{value:"Summary",id:"summary",level:2}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"what-is-exception-handling",children:"What is exception handling?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Exception handling"})," is how Python programs deal with errors gracefully. Instead of crashing when something goes wrong, you can catch exceptions, handle them, and continue running. The ",(0,t.jsx)(n.code,{children:"try"})," and ",(0,t.jsx)(n.code,{children:"except"})," keywords let you write code that anticipates and responds to errors."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    result = 10 / 0\nexcept ZeroDivisionError:\n    print("Can\'t divide by zero!")\n    result = None\n'})}),"\n",(0,t.jsx)(n.h2,{id:"why-this-matters",children:"Why this matters"}),"\n",(0,t.jsx)(n.p,{children:"Errors happen in real programs\u2014files don't exist, networks fail, users enter invalid data, calculations go wrong. Without exception handling, your program would crash every time it encounters an error. Exception handling lets you:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Prevent crashes"}),": Catch errors and handle them gracefully"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Provide better feedback"}),": Show users meaningful error messages instead of cryptic tracebacks"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Continue execution"}),": Recover from errors and keep your program running"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Clean up resources"}),": Ensure files are closed, connections are terminated, etc., even when errors occur"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Understanding ",(0,t.jsx)(n.code,{children:"try"}),"/",(0,t.jsx)(n.code,{children:"except"})," is essential for writing robust Python programs that work reliably in the real world."]}),"\n",(0,t.jsx)(n.h2,{id:"basic-tryexcept-syntax",children:"Basic try/except syntax"}),"\n",(0,t.jsx)(n.p,{children:"The simplest form catches any exception:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    # Code that might raise an exception\n    risky_operation()\nexcept:\n    # What to do if an exception occurs\n    print("Something went wrong!")\n'})}),"\n",(0,t.jsx)(n.p,{children:"However, catching all exceptions is usually too broad. It's better to catch specific exceptions."}),"\n",(0,t.jsx)(n.h2,{id:"catching-specific-exceptions",children:"Catching specific exceptions"}),"\n",(0,t.jsx)(n.p,{children:"Python has many built-in exception types. Catch the ones you expect:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    number = int(input("Enter a number: "))\n    result = 100 / number\nexcept ValueError:\n    print("That\'s not a valid number!")\nexcept ZeroDivisionError:\n    print("Can\'t divide by zero!")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"common-built-in-exceptions",children:"Common built-in exceptions"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Exception"}),(0,t.jsx)(n.th,{children:"When it's raised"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ValueError"})}),(0,t.jsxs)(n.td,{children:["Wrong type of value (e.g., ",(0,t.jsx)(n.code,{children:'int("abc")'}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"TypeError"})}),(0,t.jsxs)(n.td,{children:["Wrong type used in operation (e.g., ",(0,t.jsx)(n.code,{children:'"5" + 3'}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"IndexError"})}),(0,t.jsx)(n.td,{children:"List index out of range"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"KeyError"})}),(0,t.jsx)(n.td,{children:"Dictionary key doesn't exist"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"FileNotFoundError"})}),(0,t.jsx)(n.td,{children:"File doesn't exist"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"ZeroDivisionError"})}),(0,t.jsx)(n.td,{children:"Division by zero"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"AttributeError"})}),(0,t.jsx)(n.td,{children:"Object doesn't have the attribute"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"NameError"})}),(0,t.jsx)(n.td,{children:"Variable name not found"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"example-handling-multiple-exceptions",children:"Example: handling multiple exceptions"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    data = {"name": "Alice", "age": 30}\n    print(data["email"])  # KeyError\n    result = 10 / 0       # ZeroDivisionError\nexcept KeyError:\n    print("Key not found in dictionary")\nexcept ZeroDivisionError:\n    print("Division by zero error")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"getting-exception-information",children:"Getting exception information"}),"\n",(0,t.jsx)(n.p,{children:"You can capture the exception object to get more details:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    result = int("not a number")\nexcept ValueError as e:\n    print(f"Error: {e}")  # Error: invalid literal for int() with base 10: \'not a number\'\n    print(f"Exception type: {type(e).__name__}")\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"as e"})," syntax binds the exception object to the variable ",(0,t.jsx)(n.code,{children:"e"}),", which you can then inspect or log."]}),"\n",(0,t.jsx)(n.h2,{id:"the-else-clause",children:"The else clause"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"else"})," to run code only if no exception occurred:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    number = int(input("Enter a number: "))\nexcept ValueError:\n    print("Invalid input!")\nelse:\n    print(f"You entered: {number}")\n    # This only runs if int() succeeded\n'})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"else"})," block runs after the ",(0,t.jsx)(n.code,{children:"try"})," block completes successfully, but before any ",(0,t.jsx)(n.code,{children:"finally"})," block."]}),"\n",(0,t.jsx)(n.h2,{id:"the-finally-clause",children:"The finally clause"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"finally"})," to run cleanup code that ",(0,t.jsx)(n.strong,{children:"always"})," executes, whether an exception occurred or not:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'file = None\ntry:\n    file = open("data.txt", "r")\n    content = file.read()\nexcept FileNotFoundError:\n    print("File not found!")\nfinally:\n    if file:\n        file.close()  # Always closes, even if an error occurred\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"finally"})," is perfect for:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Closing files"}),"\n",(0,t.jsx)(n.li,{children:"Releasing resources"}),"\n",(0,t.jsx)(n.li,{children:"Cleaning up connections"}),"\n",(0,t.jsx)(n.li,{children:"Resetting state"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"complete-tryexceptelsefinally-structure",children:"Complete try/except/else/finally structure"}),"\n",(0,t.jsx)(n.p,{children:"You can combine all four clauses:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"try:\n    # Code that might raise an exception\n    result = risky_operation()\nexcept SpecificError:\n    # Handle specific exception\n    handle_error()\nelse:\n    # Run if no exception occurred\n    process_result(result)\nfinally:\n    # Always run cleanup\n    cleanup()\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The order is always: ",(0,t.jsx)(n.code,{children:"try"})," \u2192 ",(0,t.jsx)(n.code,{children:"except"})," \u2192 ",(0,t.jsx)(n.code,{children:"else"})," \u2192 ",(0,t.jsx)(n.code,{children:"finally"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"practical-examples",children:"Practical examples"}),"\n",(0,t.jsx)(n.h3,{id:"reading-a-file-safely",children:"Reading a file safely"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    with open("config.json", "r", encoding="utf-8") as f:\n        data = f.read()\nexcept FileNotFoundError:\n    print("Config file not found. Using defaults.")\n    data = "{}"\nexcept PermissionError:\n    print("Permission denied. Can\'t read config file.")\n    data = "{}"\n'})}),"\n",(0,t.jsx)(n.h3,{id:"converting-user-input",children:"Converting user input"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def get_age():\n    while True:\n        try:\n            age = int(input("Enter your age: "))\n            if age < 0:\n                raise ValueError("Age cannot be negative")\n            return age\n        except ValueError as e:\n            print(f"Invalid input: {e}. Please try again.")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"accessing-dictionary-keys",children:"Accessing dictionary keys"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'user_data = {"name": "Alice", "email": "alice@example.com"}\n\ntry:\n    phone = user_data["phone"]\nexcept KeyError:\n    phone = "Not provided"\n    print("Phone number not found, using default.")\n\nprint(f"Phone: {phone}")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"raising-exceptions",children:"Raising exceptions"}),"\n",(0,t.jsxs)(n.p,{children:["You can raise exceptions yourself using the ",(0,t.jsx)(n.code,{children:"raise"})," keyword:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def divide(a, b):\n    if b == 0:\n        raise ValueError("Cannot divide by zero")\n    return a / b\n\ntry:\n    result = divide(10, 0)\nexcept ValueError as e:\n    print(f"Error: {e}")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"re-raising-exceptions",children:"Re-raising exceptions"}),"\n",(0,t.jsx)(n.p,{children:"Sometimes you want to catch an exception, do something, then let it propagate:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    process_data()\nexcept ValueError:\n    log_error("Data processing failed")\n    raise  # Re-raise the same exception\n'})}),"\n",(0,t.jsx)(n.h2,{id:"exception-hierarchy",children:"Exception hierarchy"}),"\n",(0,t.jsx)(n.p,{children:"Python exceptions form a hierarchy. Catching a base exception will also catch its subclasses:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'try:\n    risky_operation()\nexcept Exception:  # Catches all exceptions\n    print("Something went wrong")\nexcept ValueError:  # More specific (but won\'t run if Exception catches it first)\n    print("Value error")\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Important"}),": Put more specific exceptions first, then more general ones:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"try:\n    operation()\nexcept ValueError:      # Specific first\n    handle_value_error()\nexcept Exception:        # General last\n    handle_any_error()\n"})}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,t.jsx)(n.h3,{id:"1-be-specific",children:"1. Be specific"}),"\n",(0,t.jsx)(n.p,{children:"Don't catch everything unless you have a good reason:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Bad: too broad\ntry:\n    do_something()\nexcept:\n    pass\n\n# Good: specific\ntry:\n    do_something()\nexcept ValueError:\n    handle_value_error()\n"})}),"\n",(0,t.jsx)(n.h3,{id:"2-dont-suppress-errors-silently",children:"2. Don't suppress errors silently"}),"\n",(0,t.jsx)(n.p,{children:"At minimum, log the error:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# Bad: silent failure\ntry:\n    process_data()\nexcept Exception:\n    pass\n\n# Good: log the error\ntry:\n    process_data()\nexcept Exception as e:\n    logger.error(f"Failed to process data: {e}")\n'})}),"\n",(0,t.jsx)(n.h3,{id:"3-use-finally-for-cleanup",children:"3. Use finally for cleanup"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"# Good: ensures cleanup\nresource = acquire_resource()\ntry:\n    use_resource(resource)\nfinally:\n    release_resource(resource)\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-let-exceptions-propagate-when-appropriate",children:"4. Let exceptions propagate when appropriate"}),"\n",(0,t.jsx)(n.p,{children:"Not every error needs to be caught. Sometimes it's better to let the exception bubble up:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def calculate_total(items):\n    # Don't catch errors here - let caller handle them\n    return sum(item.price for item in items)\n"})}),"\n",(0,t.jsx)(n.h2,{id:"common-patterns",children:"Common patterns"}),"\n",(0,t.jsx)(n.h3,{id:"retry-logic",children:"Retry logic"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"import time\n\ndef fetch_data_with_retry(max_attempts=3):\n    for attempt in range(max_attempts):\n        try:\n            return fetch_from_api()\n        except ConnectionError:\n            if attempt < max_attempts - 1:\n                time.sleep(1)  # Wait before retry\n            else:\n                raise  # Give up after max attempts\n"})}),"\n",(0,t.jsx)(n.h3,{id:"default-values",children:"Default values"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"def get_config_value(key, default=None):\n    try:\n        return config[key]\n    except KeyError:\n        return default\n"})}),"\n",(0,t.jsx)(n.h3,{id:"validation",children:"Validation"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def validate_age(age):\n    try:\n        age = int(age)\n        if age < 0 or age > 150:\n            raise ValueError("Age must be between 0 and 150")\n        return age\n    except (ValueError, TypeError):\n        raise ValueError("Age must be a valid number")\n'})}),"\n",(0,t.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,t.jsxs)(n.p,{children:["Exception handling with ",(0,t.jsx)(n.code,{children:"try"}),"/",(0,t.jsx)(n.code,{children:"except"})," is essential for writing robust Python programs:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"try"})}),": Code that might raise an exception"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"except"})}),": Handle specific exceptions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"else"})}),": Run code when no exception occurs"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"finally"})}),": Always run cleanup code"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"raise"})}),": Create your own exceptions"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Use exception handling to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Prevent crashes"}),"\n",(0,t.jsx)(n.li,{children:"Provide better error messages"}),"\n",(0,t.jsx)(n.li,{children:"Clean up resources"}),"\n",(0,t.jsx)(n.li,{children:"Handle expected errors gracefully"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Remember: catch specific exceptions, don't suppress errors silently, and use ",(0,t.jsx)(n.code,{children:"finally"})," for cleanup. With these tools, you can write programs that handle errors gracefully and continue running even when things go wrong."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>c});var i=r(6540);const t={},s=i.createContext(t);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);