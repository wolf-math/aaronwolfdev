"use strict";(globalThis.webpackChunkaaronwolf_dev=globalThis.webpackChunkaaronwolf_dev||[]).push([[5187],{7183:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>_,frontMatter:()=>s,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"coding/python/language_reference/memoryview","title":"memoryview","description":"Properties","source":"@site/docs/coding/python/language_reference/memoryview.md","sourceDirName":"coding/python/language_reference","slug":"/coding/python/language_reference/memoryview","permalink":"/docs/coding/python/language_reference/memoryview","draft":false,"unlisted":false,"editUrl":"https://github.com/wolf-math/aaronwolfdev/tree/main/docs/coding/python/language_reference/memoryview.md","tags":[],"version":"current","sidebarPosition":12,"frontMatter":{"title":"memoryview","sidebar_position":12},"sidebar":"tutorialSidebar","previous":{"title":"list","permalink":"/docs/coding/python/language_reference/list"},"next":{"title":"None","permalink":"/docs/coding/python/language_reference/none"}}');var t=i(4848),d=i(8453);const s={title:"memoryview",sidebar_position:12},c=void 0,o={},l=[{value:"Properties",id:"properties",level:2},{value:"Definition",id:"definition",level:2},{value:"Creating memoryviews",id:"creating-memoryviews",level:2},{value:"Slicing and casting",id:"slicing-and-casting",level:2},{value:"Attributes",id:"attributes",level:2},{value:"Common methods",id:"common-methods",level:2},{value:"Dunder methods",id:"dunder-methods",level:2}];function a(e){const n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:">>> dir(memoryview)\n['__class__', '__delattr__', '__delitem__', '__dir__', '__doc__', '__enter__', '__eq__', '__exit__', '__format__', '__ge__', '__getattribute__', '__getitem__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__iter__', '__le__', '__len__', '__lt__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__setitem__', '__sizeof__', '__str__', '__subclasshook__', 'c_contiguous', 'cast', 'contiguous', 'f_contiguous', 'format', 'hex', 'itemsize', 'nbytes', 'ndim', 'obj', 'readonly', 'release', 'shape', 'strides', 'suboffsets', 'tobytes', 'tolist', 'toreadonly']\n"})}),"\n",(0,t.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,t.jsxs)(n.p,{children:["A ",(0,t.jsx)(n.code,{children:"memoryview"})," provides a zero-copy, sliceable view over binary data that supports the buffer protocol (e.g., ",(0,t.jsx)(n.code,{children:"bytes"}),", ",(0,t.jsx)(n.code,{children:"bytearray"}),", ",(0,t.jsx)(n.code,{children:"array"}),", ",(0,t.jsx)(n.code,{children:"mmap"}),"). It allows reading and writing (if underlying object is writable) without copying the data."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:">>> data = bytearray(b\"hello\")\n>>> view = memoryview(data)\n>>> view[0]\n104\n>>> view[0] = 72   # modify in place\n>>> data\nbytearray(b'Hello')\n"})}),"\n",(0,t.jsx)(n.h2,{id:"creating-memoryviews",children:"Creating memoryviews"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'>>> mv = memoryview(b"abc")              # from bytes (read-only)\n>>> mv2 = memoryview(bytearray(b"abc"))  # from bytearray (read/write)\n'})}),"\n",(0,t.jsx)(n.h2,{id:"slicing-and-casting",children:"Slicing and casting"}),"\n",(0,t.jsx)(n.p,{children:"Memoryviews can be sliced without copying and cast to change the element format."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'>>> mv = memoryview(bytearray(b"abcdef"))\n>>> mv[2:4].tobytes()\nb\'cd\'\n\n# cast to view 16-bit unsigned integers (requires aligned size)\n>>> mem = memoryview(bytearray(b"\\x01\\x00\\x02\\x00"))\n>>> mem.cast("H").tolist()\n[1, 2]\n'})}),"\n",(0,t.jsx)(n.h2,{id:"attributes",children:"Attributes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"format"})," \u2014 element format (PEP 3118 code)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"itemsize"})," \u2014 size of each element in bytes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"nbytes"})," \u2014 total bytes"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ndim"}),", ",(0,t.jsx)(n.code,{children:"shape"}),", ",(0,t.jsx)(n.code,{children:"strides"})," \u2014 multi-dimensional info (for exporters that support it)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"readonly"})," \u2014 ",(0,t.jsx)(n.code,{children:"True"})," if underlying buffer is read-only"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"obj"})," \u2014 underlying object"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"common-methods",children:"Common methods"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tobytes()"})," \u2014 return a bytes copy"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"tolist()"})," \u2014 return a list of elements"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"cast(format, shape=None)"})," \u2014 reinterpret view"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"toreadonly()"})," \u2014 get a read-only view"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"release()"})," \u2014 manually release the view (rarely needed; context manager supported)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"dunder-methods",children:"Dunder methods"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Dunder Method"}),(0,t.jsx)(n.th,{children:"Operation"}),(0,t.jsx)(n.th,{children:"Example (normal syntax)"}),(0,t.jsx)(n.th,{children:"Example (dunder call)"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"__getitem__"})}),(0,t.jsx)(n.td,{children:"Index"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"view[0]"})," \u2192 ",(0,t.jsx)(n.code,{children:"104"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"view.__getitem__(0)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"__setitem__"})}),(0,t.jsx)(n.td,{children:"Modify data"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"view[0] = 72"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"view.__setitem__(0, 72)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"__len__"})}),(0,t.jsx)(n.td,{children:"Length"}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"len(view)"})," \u2192 ",(0,t.jsx)(n.code,{children:"5"})]}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"view.__len__()"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"__iter__"})}),(0,t.jsx)(n.td,{children:"Iterate"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"for b in view"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"view.__iter__()"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"__eq__"})}),(0,t.jsx)(n.td,{children:"Compare"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"view == memoryview(b'hello')"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"view.__eq__(other)"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"__enter__"}),", ",(0,t.jsx)(n.code,{children:"__exit__"})]}),(0,t.jsx)(n.td,{children:"Context manager support"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"with memoryview(b'abc') as m:"})}),(0,t.jsxs)(n.td,{children:[(0,t.jsx)(n.code,{children:"m.__enter__()"})," / ",(0,t.jsx)(n.code,{children:"m.__exit__()"})]})]})]})]})]})}function _(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>c});var r=i(6540);const t={},d=r.createContext(t);function s(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);