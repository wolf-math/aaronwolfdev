"use strict";(globalThis.webpackChunkaaronwolf_dev=globalThis.webpackChunkaaronwolf_dev||[]).push([[7182],{7643:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"coding/python/user_guide/oop/polymorphism","title":"Polymorphism","description":"What is polymorphism?","source":"@site/docs/coding/python/user_guide/oop/polymorphism.md","sourceDirName":"coding/python/user_guide/oop","slug":"/coding/python/user_guide/oop/polymorphism","permalink":"/docs/coding/python/user_guide/oop/polymorphism","draft":false,"unlisted":false,"editUrl":"https://github.com/wolf-math/aaronwolfdev/tree/main/docs/coding/python/user_guide/oop/polymorphism.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"title":"Polymorphism","sidebar_position":6},"sidebar":"tutorialSidebar","previous":{"title":"Inheritance","permalink":"/docs/coding/python/user_guide/oop/inheritance"},"next":{"title":"Dunder methods","permalink":"/docs/coding/python/user_guide/oop/dunder_methods"}}');var t=s(4848),r=s(8453);const o={title:"Polymorphism",sidebar_position:6},l=void 0,a={},h=[{value:"What is polymorphism?",id:"what-is-polymorphism",level:2},{value:"Why this matters",id:"why-this-matters",level:2},{value:"Polymorphism through inheritance",id:"polymorphism-through-inheritance",level:2},{value:"Basic example",id:"basic-example",level:3},{value:"With <code>super()</code> and shared behavior",id:"with-super-and-shared-behavior",level:3},{value:"Duck typing (Python&#39;s approach)",id:"duck-typing-pythons-approach",level:2},{value:"Real-world example: file-like objects",id:"real-world-example-file-like-objects",level:3},{value:"Operator overloading (polymorphism with operators)",id:"operator-overloading-polymorphism-with-operators",level:2},{value:"Built-in polymorphism",id:"built-in-polymorphism",level:2},{value:"Abstract base classes (optional)",id:"abstract-base-classes-optional",level:2},{value:"When to use polymorphism",id:"when-to-use-polymorphism",level:2},{value:"Best practices",id:"best-practices",level:2}];function c(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"what-is-polymorphism",children:"What is polymorphism?"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Polymorphism"}),' (from Greek: "many forms") is the ability to use the ',(0,t.jsx)(n.strong,{children:"same interface"})," for different types of objects. In Python, this means you can write code that works with multiple types as long as they implement the same methods or properties."]}),"\n",(0,t.jsxs)(n.p,{children:["The core idea: ",(0,t.jsx)(n.strong,{children:"different objects can respond to the same method call in their own way."})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class Dog:\n    def speak(self):\n        return "Woof!"\n\nclass Cat:\n    def speak(self):\n        return "Meow!"\n\nclass Duck:\n    def speak(self):\n        return "Quack!"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Even though ",(0,t.jsx)(n.code,{children:"Dog"}),", ",(0,t.jsx)(n.code,{children:"Cat"}),", and ",(0,t.jsx)(n.code,{children:"Duck"})," are different classes, they all have a ",(0,t.jsx)(n.code,{children:"speak()"})," method. You can write code that works with any of them:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"animals = [Dog(), Cat(), Duck()]\n\nfor animal in animals:\n    print(animal.speak())\n# Woof!\n# Meow!\n# Quack!\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This is polymorphism in action: the same code (",(0,t.jsx)(n.code,{children:"animal.speak()"}),") works with different types, and each type responds appropriately."]}),"\n",(0,t.jsx)(n.h2,{id:"why-this-matters",children:"Why this matters"}),"\n",(0,t.jsx)(n.p,{children:"Polymorphism helps you write code that is:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"More flexible"})," \u2014 works with many types without modification"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Easier to extend"})," \u2014 add new types without changing existing code"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"More maintainable"})," \u2014 focus on what objects ",(0,t.jsx)(n.em,{children:"do"})," rather than what they ",(0,t.jsx)(n.em,{children:"are"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Instead of checking types with ",(0,t.jsx)(n.code,{children:"isinstance()"})," everywhere, you can rely on objects implementing the methods you need. This is one of Python's core design principles: ",(0,t.jsx)(n.em,{children:'"It\'s easier to ask for forgiveness than permission"'})," (EAFP) and ",(0,t.jsx)(n.em,{children:'"duck typing"'})," (if it walks like a duck and quacks like a duck, it's a duck)."]}),"\n",(0,t.jsx)(n.h2,{id:"polymorphism-through-inheritance",children:"Polymorphism through inheritance"}),"\n",(0,t.jsxs)(n.p,{children:["The most common way to achieve polymorphism is through ",(0,t.jsx)(n.strong,{children:"inheritance"}),". A base class defines an interface, and subclasses implement it in their own way."]}),"\n",(0,t.jsx)(n.h3,{id:"basic-example",children:"Basic example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class Shape:\n    def area(self):\n        raise NotImplementedError("Subclass must implement area()")\n\nclass Rectangle(Shape):\n    def __init__(self, width, height):\n        self.width = width\n        self.height = height\n\n    def area(self):\n        return self.width * self.height\n\nclass Circle(Shape):\n    def __init__(self, radius):\n        self.radius = radius\n\n    def area(self):\n        return 3.14159 * self.radius ** 2\n'})}),"\n",(0,t.jsx)(n.p,{children:"Usage:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"shapes = [\n    Rectangle(5, 10),\n    Circle(3),\n    Rectangle(2, 4)\n]\n\ntotal_area = sum(shape.area() for shape in shapes)\nprint(total_area)  # ~58.27 (50 + 28.27 + 8)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["All shapes have an ",(0,t.jsx)(n.code,{children:"area()"})," method, so you can call it on any shape without checking the type. Each shape calculates its area differently, but from the caller's perspective, they all work the same way."]}),"\n",(0,t.jsxs)(n.h3,{id:"with-super-and-shared-behavior",children:["With ",(0,t.jsx)(n.code,{children:"super()"})," and shared behavior"]}),"\n",(0,t.jsx)(n.p,{children:"You can combine polymorphism with shared base class behavior:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class Animal:\n    def __init__(self, name):\n        self.name = name\n\n    def make_sound(self):\n        return "Some sound"  # default implementation\n\n    def introduce(self):\n        return f"I\'m {self.name} and I say {self.make_sound()}"\n\nclass Dog(Animal):\n    def make_sound(self):\n        return "Woof!"\n\nclass Cat(Animal):\n    def make_sound(self):\n        return "Meow!"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Usage:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'pets = [Dog("Fido"), Cat("Whiskers")]\n\nfor pet in pets:\n    print(pet.introduce())\n# I\'m Fido and I say Woof!\n# I\'m Whiskers and I say Meow!\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Here, ",(0,t.jsx)(n.code,{children:"introduce()"})," is defined once in the base class but uses the polymorphic ",(0,t.jsx)(n.code,{children:"make_sound()"})," method, which each subclass overrides."]}),"\n",(0,t.jsx)(n.h2,{id:"duck-typing-pythons-approach",children:"Duck typing (Python's approach)"}),"\n",(0,t.jsxs)(n.p,{children:["Python doesn't require inheritance for polymorphism. If an object has the methods you need, it works\u2014this is called ",(0,t.jsx)(n.strong,{children:'"duck typing."'})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class Car:\n    def drive(self):\n        return "Vroom vroom!"\n\nclass Bicycle:\n    def drive(self):\n        return "Pedal pedal!"\n\nclass Horse:\n    def drive(self):\n        return "Clip clop!"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Even though ",(0,t.jsx)(n.code,{children:"Car"}),", ",(0,t.jsx)(n.code,{children:"Bicycle"}),", and ",(0,t.jsx)(n.code,{children:"Horse"})," don't share a common base class, you can use them polymorphically:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"vehicles = [Car(), Bicycle(), Horse()]\n\nfor vehicle in vehicles:\n    print(vehicle.drive())\n# Vroom vroom!\n# Pedal pedal!\n# Clip clop!\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Python doesn't care about the type\u2014it only cares that each object has a ",(0,t.jsx)(n.code,{children:"drive()"})," method."]}),"\n",(0,t.jsx)(n.h3,{id:"real-world-example-file-like-objects",children:"Real-world example: file-like objects"}),"\n",(0,t.jsxs)(n.p,{children:['Python\'s standard library uses duck typing extensively. Many functions work with "file-like objects" (objects with ',(0,t.jsx)(n.code,{children:"read()"}),", ",(0,t.jsx)(n.code,{children:"write()"}),", etc.):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'def process_file(file_obj):\n    content = file_obj.read()\n    return content.upper()\n\n# Works with actual files\nwith open("data.txt") as f:\n    print(process_file(f))\n\n# Works with StringIO (in-memory file)\nfrom io import StringIO\nmemory_file = StringIO("hello world")\nprint(process_file(memory_file))  # "HELLO WORLD"\n\n# Works with any object that has read()\nclass CustomReader:\n    def read(self):\n        return "custom content"\n\nreader = CustomReader()\nprint(process_file(reader))  # "CUSTOM CONTENT"\n'})}),"\n",(0,t.jsxs)(n.p,{children:["All three objects work with ",(0,t.jsx)(n.code,{children:"process_file()"})," because they all implement ",(0,t.jsx)(n.code,{children:"read()"}),"\u2014no inheritance required."]}),"\n",(0,t.jsx)(n.h2,{id:"operator-overloading-polymorphism-with-operators",children:"Operator overloading (polymorphism with operators)"}),"\n",(0,t.jsxs)(n.p,{children:["Python's dunder methods let you define how operators work with your classes, enabling polymorphism for operators like ",(0,t.jsx)(n.code,{children:"+"}),", ",(0,t.jsx)(n.code,{children:"=="}),", ",(0,t.jsx)(n.code,{children:"len()"}),", etc."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'class Vector:\n    def __init__(self, x, y):\n        self.x = x\n        self.y = y\n\n    def __add__(self, other):\n        return Vector(self.x + other.x, self.y + other.y)\n\n    def __str__(self):\n        return f"Vector({self.x}, {self.y})"\n'})}),"\n",(0,t.jsx)(n.p,{children:"Usage:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:"v1 = Vector(1, 2)\nv2 = Vector(3, 4)\nv3 = v1 + v2  # Uses __add__\nprint(v3)     # Vector(4, 6)\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"+"})," operator works with ",(0,t.jsx)(n.code,{children:"Vector"})," objects just like it works with numbers or strings\u2014polymorphism at the operator level."]}),"\n",(0,t.jsx)(n.h2,{id:"built-in-polymorphism",children:"Built-in polymorphism"}),"\n",(0,t.jsx)(n.p,{children:"Python's built-in functions use polymorphism extensively:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'# len() works with many types\nlen([1, 2, 3])        # 3 (list)\nlen("hello")          # 5 (string)\nlen({"a": 1, "b": 2}) # 2 (dict)\n\n# + works with many types\n"hello" + "world"     # "helloworld" (strings)\n[1, 2] + [3, 4]       # [1, 2, 3, 4] (lists)\n10 + 20               # 30 (numbers)\n\n# str() works with any type\nstr(42)               # "42"\nstr([1, 2, 3])        # "[1, 2, 3]"\nstr(Dog("Fido"))      # depends on __str__ or __repr__\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Each type implements ",(0,t.jsx)(n.code,{children:"__len__()"}),", ",(0,t.jsx)(n.code,{children:"__add__()"}),", or ",(0,t.jsx)(n.code,{children:"__str__()"})," differently, but you use them the same way."]}),"\n",(0,t.jsx)(n.h2,{id:"abstract-base-classes-optional",children:"Abstract base classes (optional)"}),"\n",(0,t.jsxs)(n.p,{children:["While duck typing is usually enough, you can use ",(0,t.jsx)(n.strong,{children:"Abstract Base Classes (ABCs)"})," to define a formal interface when you want to enforce that subclasses implement certain methods:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",children:'from abc import ABC, abstractmethod\n\nclass Shape(ABC):\n    @abstractmethod\n    def area(self):\n        """Subclasses must implement this."""\n        pass\n\n    @abstractmethod\n    def perimeter(self):\n        """Subclasses must implement this."""\n        pass\n\nclass Rectangle(Shape):\n    def __init__(self, width, height):\n        self.width = width\n        self.height = height\n\n    def area(self):\n        return self.width * self.height\n\n    def perimeter(self):\n        return 2 * (self.width + self.height)\n\n# Shape()  # Would raise TypeError (can\'t instantiate abstract class)\nrect = Rectangle(5, 10)  # OK\n'})}),"\n",(0,t.jsx)(n.p,{children:"ABCs make the interface explicit and prevent you from accidentally creating incomplete subclasses, but they're optional\u2014duck typing works fine for most cases."}),"\n",(0,t.jsx)(n.h2,{id:"when-to-use-polymorphism",children:"When to use polymorphism"}),"\n",(0,t.jsx)(n.p,{children:"Use polymorphism when:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"You have multiple types that share an interface"})," \u2014 they all implement the same methods"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"You want to write generic code"})," that works with any of those types"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"You want to add new types easily"})," without changing existing code"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Avoid when:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Types are truly unrelated"})," \u2014 if there's no meaningful shared interface, forcing polymorphism adds complexity"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"You need type-specific behavior"})," that can't be abstracted \u2014 sometimes ",(0,t.jsx)(n.code,{children:"isinstance()"})," checks are appropriate"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Design around interfaces, not implementations"})," \u2014 think about what methods objects need, not what classes they are"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use duck typing"})," when possible \u2014 it's more Pythonic than strict inheritance hierarchies"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Keep interfaces small and focused"}),' \u2014 prefer "many small interfaces" over "one giant interface"']}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Document expected methods"})," \u2014 use docstrings to clarify what methods a function expects objects to have"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Use ABCs sparingly"})," \u2014 only when you need to enforce an interface or provide shared default implementations"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Polymorphism is one of OOP's most powerful tools. Combined with Python's duck typing, it lets you write flexible, extensible code that adapts easily to new requirements."})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>l});var i=s(6540);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);