"use strict";(globalThis.webpackChunkaaronwolf_dev=globalThis.webpackChunkaaronwolf_dev||[]).push([[5431],{4117:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"coding/python/user_guide/standard_library/file_handling","title":"File handling basics","description":"What is file handling?","source":"@site/docs/coding/python/user_guide/standard_library/file_handling.md","sourceDirName":"coding/python/user_guide/standard_library","slug":"/coding/python/user_guide/standard_library/file_handling","permalink":"/docs/coding/python/user_guide/standard_library/file_handling","draft":false,"unlisted":false,"editUrl":"https://github.com/wolf-math/aaronwolfdev/tree/main/docs/coding/python/user_guide/standard_library/file_handling.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"File handling basics","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Exception handling with try/except","permalink":"/docs/coding/python/user_guide/standard_library/exceptions"},"next":{"title":"Reading and writing JSON","permalink":"/docs/coding/python/user_guide/standard_library/json"}}');var l=i(4848),r=i(8453);const d={title:"File handling basics",sidebar_position:2},t=void 0,o={},c=[{value:"What is file handling?",id:"what-is-file-handling",level:2},{value:"Why this matters",id:"why-this-matters",level:2},{value:"Opening files",id:"opening-files",level:2},{value:"Common modes",id:"common-modes",level:3},{value:"Reading files",id:"reading-files",level:2},{value:"Read the whole file",id:"read-the-whole-file",level:3},{value:"Read line by line",id:"read-line-by-line",level:3},{value:"Read specific amounts",id:"read-specific-amounts",level:3},{value:"Writing files",id:"writing-files",level:2},{value:"Always closing files",id:"always-closing-files",level:2},{value:"Using <code>with</code> (context managers)",id:"using-with-context-managers",level:2},{value:"Text vs binary mode",id:"text-vs-binary-mode",level:2},{value:"Handling common errors",id:"handling-common-errors",level:2},{value:"File not found",id:"file-not-found",level:3},{value:"Permission denied",id:"permission-denied",level:3},{value:"Summary",id:"summary",level:2}];function a(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"what-is-file-handling",children:"What is file handling?"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"File handling"})," is how Python reads from and writes to files on your computer. It lets your programs:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Load data from text or binary files (logs, CSVs, configuration, images, etc.)"}),"\n",(0,l.jsx)(n.li,{children:"Save results, reports, or user data"}),"\n",(0,l.jsx)(n.li,{children:"Append new information to existing files"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"At its core, file handling is about three steps:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Open"})," a file"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Read from or write to"})," it"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Close"})," the file when you\u2019re done"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Python provides the built-in ",(0,l.jsx)(n.a,{href:"/docs/coding/python/language_reference/built-in#open",children:(0,l.jsx)(n.code,{children:"open()"})})," function for this."]}),"\n",(0,l.jsx)(n.h2,{id:"why-this-matters",children:"Why this matters"}),"\n",(0,l.jsx)(n.p,{children:"Most real-world programs don\u2019t live in isolation\u2014they read and write files. Whether you\u2019re:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Processing logs"}),"\n",(0,l.jsx)(n.li,{children:"Loading configuration"}),"\n",(0,l.jsx)(n.li,{children:"Saving model outputs"}),"\n",(0,l.jsx)(n.li,{children:"Working with CSVs or JSON"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u2026you\u2019ll need to understand how Python handles files safely and efficiently. Good file handling helps you:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Avoid data loss (by closing files properly)"}),"\n",(0,l.jsx)(n.li,{children:"Prevent bugs (like reading the wrong encoding)"}),"\n",(0,l.jsx)(n.li,{children:"Write code that behaves well across different operating systems"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["This first guide focuses on the ",(0,l.jsx)(n.em,{children:"basics"})," of opening, reading, and closing files. Later guides can cover CSV, JSON, binary data, and more advanced patterns."]}),"\n",(0,l.jsx)(n.h2,{id:"opening-files",children:"Opening files"}),"\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"open(path, mode, encoding=...)"})," to get a ",(0,l.jsx)(n.strong,{children:"file object"}),"."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'f = open("example.txt", "r", encoding="utf-8")\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"path"})}),": where the file lives (relative or absolute path)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"mode"})}),": how you want to use the file (read, write, etc.)"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:(0,l.jsx)(n.code,{children:"encoding"})}),": how text is represented on disk (for text files)"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"common-modes",children:"Common modes"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"Mode"}),(0,l.jsx)(n.th,{children:"Meaning"}),(0,l.jsx)(n.th,{children:"Creates file?"}),(0,l.jsx)(n.th,{children:"Truncates file?"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'"r"'})}),(0,l.jsx)(n.td,{children:"Read (text, default)"}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:"No"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'"w"'})}),(0,l.jsx)(n.td,{children:"Write (text)"}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{children:"Yes (clears it)"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'"a"'})}),(0,l.jsx)(n.td,{children:"Append (text)"}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{children:"No"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'"rb"'})}),(0,l.jsx)(n.td,{children:"Read binary"}),(0,l.jsx)(n.td,{children:"No"}),(0,l.jsx)(n.td,{children:"No"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:'"wb"'})}),(0,l.jsx)(n.td,{children:"Write binary"}),(0,l.jsx)(n.td,{children:"Yes"}),(0,l.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# Read existing text file\nf = open("notes.txt", "r", encoding="utf-8")\n\n# Create or overwrite text file\nf = open("output.txt", "w", encoding="utf-8")\n\n# Append to the end of a file\nf = open("log.txt", "a", encoding="utf-8")\n'})}),"\n",(0,l.jsx)(n.h2,{id:"reading-files",children:"Reading files"}),"\n",(0,l.jsx)(n.p,{children:"Once a file is open for reading, you can:"}),"\n",(0,l.jsx)(n.h3,{id:"read-the-whole-file",children:"Read the whole file"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'f = open("example.txt", "r", encoding="utf-8")\ncontents = f.read()\nprint(contents)\nf.close()\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Be careful with ",(0,l.jsx)(n.code,{children:"read()"})," on very large files\u2014it loads everything into memory."]}),"\n",(0,l.jsx)(n.h3,{id:"read-line-by-line",children:"Read line by line"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'f = open("example.txt", "r", encoding="utf-8")\n\nfor line in f:\n    print(line.rstrip())  # remove trailing newline\n\nf.close()\n'})}),"\n",(0,l.jsx)(n.p,{children:"This is memory-efficient because it reads one line at a time."}),"\n",(0,l.jsx)(n.h3,{id:"read-specific-amounts",children:"Read specific amounts"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'f = open("data.txt", "r", encoding="utf-8")\n\nchunk = f.read(10)   # read 10 characters\nline = f.readline()  # read one line\nlines = f.readlines()  # read remaining lines into a list\n\nf.close()\n'})}),"\n",(0,l.jsx)(n.h2,{id:"writing-files",children:"Writing files"}),"\n",(0,l.jsxs)(n.p,{children:["Open a file in ",(0,l.jsx)(n.code,{children:'"w"'})," or ",(0,l.jsx)(n.code,{children:'"a"'})," mode to write text."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'f = open("output.txt", "w", encoding="utf-8")\nf.write("First line\\n")\nf.write("Second line\\n")\nf.close()\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"w"'})," starts from an empty file (or creates a new one)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:'"a"'})," appends to the end without deleting existing content."]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'f = open("log.txt", "a", encoding="utf-8")\nf.write("New log entry\\n")\nf.close()\n'})}),"\n",(0,l.jsx)(n.h2,{id:"always-closing-files",children:"Always closing files"}),"\n",(0,l.jsx)(n.p,{children:"Forgetting to close a file can:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Keep file descriptors open (resource leak)"}),"\n",(0,l.jsx)(n.li,{children:"Prevent other programs from accessing the file"}),"\n",(0,l.jsx)(n.li,{children:"Delay data being written to disk (buffer not flushed)"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["You ",(0,l.jsx)(n.em,{children:"can"})," call ",(0,l.jsx)(n.code,{children:"close()"})," manually:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'f = open("example.txt", "r", encoding="utf-8")\ntry:\n    data = f.read()\nfinally:\n    f.close()\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u2026but there\u2019s a better way."}),"\n",(0,l.jsxs)(n.h2,{id:"using-with-context-managers",children:["Using ",(0,l.jsx)(n.code,{children:"with"})," (context managers)"]}),"\n",(0,l.jsxs)(n.p,{children:["The recommended pattern is to use a ",(0,l.jsx)(n.code,{children:"with"})," statement. It:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Opens the file"}),"\n",(0,l.jsx)(n.li,{children:"Ensures it\u2019s closed automatically, even if an error occurs"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'with open("example.txt", "r", encoding="utf-8") as f:\n    for line in f:\n        print(line.rstrip())\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Inside the ",(0,l.jsx)(n.code,{children:"with"})," block:"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"f"})," is your file object"]}),"\n",(0,l.jsxs)(n.li,{children:["When the block ends, ",(0,l.jsx)(n.code,{children:"f.close()"})," is called automatically"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"The same pattern works for writing:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'with open("output.txt", "w", encoding="utf-8") as f:\n    f.write("Hello, file!\\n")\n    f.write("This was written safely.\\n")\n'})}),"\n",(0,l.jsx)(n.h2,{id:"text-vs-binary-mode",children:"Text vs binary mode"}),"\n",(0,l.jsxs)(n.p,{children:["So far we\u2019ve used text modes like ",(0,l.jsx)(n.code,{children:'"r"'})," and ",(0,l.jsx)(n.code,{children:'"w"'}),". For ",(0,l.jsx)(n.strong,{children:"binary data"})," (images, audio, etc.), use binary modes:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# Read binary\nwith open("image.png", "rb") as f:\n    data = f.read()   # bytes, not str\n\n# Write binary\nwith open("copy.png", "wb") as f:\n    f.write(data)\n'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Text mode (",(0,l.jsx)(n.code,{children:'"r"'}),", ",(0,l.jsx)(n.code,{children:'"w"'}),", ",(0,l.jsx)(n.code,{children:'"a"'}),") works with ",(0,l.jsx)(n.code,{children:"str"})," and handles encoding/decoding."]}),"\n",(0,l.jsxs)(n.li,{children:["Binary mode (",(0,l.jsx)(n.code,{children:'"rb"'}),", ",(0,l.jsx)(n.code,{children:'"wb"'}),", ",(0,l.jsx)(n.code,{children:'"ab"'}),") works with ",(0,l.jsx)(n.code,{children:"bytes"})," and does ",(0,l.jsx)(n.em,{children:"no"})," encoding."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"handling-common-errors",children:"Handling common errors"}),"\n",(0,l.jsx)(n.h3,{id:"file-not-found",children:"File not found"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'try:\n    with open("missing.txt", "r", encoding="utf-8") as f:\n        contents = f.read()\nexcept FileNotFoundError:\n    print("File does not exist!")\n'})}),"\n",(0,l.jsx)(n.h3,{id:"permission-denied",children:"Permission denied"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'try:\n    with open("/root/secret.txt", "r", encoding="utf-8") as f:\n        contents = f.read()\nexcept PermissionError:\n    print("You don\'t have permission to read this file.")\n'})}),"\n",(0,l.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,l.jsx)(n.p,{children:"In this first part you learned:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["How to open files with ",(0,l.jsx)(n.code,{children:"open(path, mode, encoding=...)"})]}),"\n",(0,l.jsxs)(n.li,{children:["The most common modes: ",(0,l.jsx)(n.code,{children:'"r"'}),", ",(0,l.jsx)(n.code,{children:'"w"'}),", ",(0,l.jsx)(n.code,{children:'"a"'}),", ",(0,l.jsx)(n.code,{children:'"rb"'}),", ",(0,l.jsx)(n.code,{children:'"wb"'})]}),"\n",(0,l.jsx)(n.li,{children:"How to read entire files or line by line"}),"\n",(0,l.jsx)(n.li,{children:"How to write and append to files"}),"\n",(0,l.jsxs)(n.li,{children:["Why ",(0,l.jsx)(n.code,{children:"with open(...) as f:"})," is the safest pattern"]}),"\n",(0,l.jsx)(n.li,{children:"The difference between text and binary modes"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"Later installments can build on this by exploring:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Working with CSV and JSON files"}),"\n",(0,l.jsxs)(n.li,{children:["Path handling with ",(0,l.jsx)(n.code,{children:"pathlib"})]}),"\n",(0,l.jsx)(n.li,{children:"Temporary files and directories"}),"\n",(0,l.jsx)(n.li,{children:"More advanced error handling and patterns"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>d,x:()=>t});var s=i(6540);const l={},r=s.createContext(l);function d(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);